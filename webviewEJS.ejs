<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>It Works!</title>

</head>
<body>
    <div id="content"></div>

    <script>
        console.log("starting to look for psid")
        //respond to the SDK loaded event


        //include the messenger extensions JS library
        (function(d, s, id){
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) {return;}
            js = d.createElement(s); js.id = id;
            js.src = "//connect.facebook.com/en_US/messenger.Extensions.js";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'Messenger'));

        window.extAsyncInit = function() {

            // the Messenger Extensions JS SDK is done loading
            MessengerExtensions.getUserID(function success(uids) {

                var psid = usids.psid
                console.log("PSID FOUND!!! " + psid)

            }, function error(err) {
                window.attachApp();
                console.log("no PSID found :(")
            });
        };
        
    </script>
<p>See?</p>
</body>
</html>