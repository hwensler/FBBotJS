<!DOCTYPE html>
<html>
<head>
    <title>It Works!</title>

</head>
<body>
<script>
    //include the messenger extensions JS library
    (function(d, s, id){
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) {return;}
        js = d.createElement(s); js.id = id;
        js.src = '//connect.facebook.com/en_US/messenger.Extensions.js';
        fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'Messenger'));
</script>
<script>
    //respond to the SDK loaded event
    window.extAsyncInit = function() {
        //get supported features
        MessengerExtensions.getSupportedFeatures(function success(result) {
            var features = result.supported_features;
            document.getElementById("console").innerHTML = JSON.stringify(features);
        }, function error(err) {

        });


        // the Messenger Extensions JS SDK is done loading
        MessengerExtensions.getContext(
            '133394710595363',
            function success(context){
                var psid = context.psid.toString();
                console.log('PSID FOUND: ' + psid);
                document.getElementById("psidContainer").innerHTML = psid;
            },
            function error(err){
                console.log('no PSID found')
                document.getElementById("psidContainer").innerHTML = "no psid found <br>" + typeof err + " " + err;

            });
    };
</script>

<div id="psidContainer"></div>
<div id="console"></div>
</body>
</html>